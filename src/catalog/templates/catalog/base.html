<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Tuesday Saloon Catalog{% endblock %}</title>

    <!-- Bootstrap 5 (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
      @import url('https://fonts.googleapis.com/css2?family=IM+Fell+English:ital@0;1&family=Inter:wght@400;600;700&display=swap');

      :root{
        --ts-bg: #0f0b08;
        --ts-panel: #16100c;
        --ts-panel-2: #1d1510;
        --ts-border: rgba(255, 216, 158, 0.14);
        --ts-text: rgba(255, 238, 209, 0.92);
        --ts-muted: rgba(255, 238, 209, 0.66);
        --ts-accent: #d7a44a;
        --ts-accent-2: #b8743b;
        --ts-link: #e7c06a;
        --ts-link-hover: #ffd98a;
        --ts-shadow: 0 10px 30px rgba(0,0,0,.45);
      }

      body {
        background:
          radial-gradient(1200px 600px at 15% 0%, rgba(215,164,74,0.12), transparent 55%),
          radial-gradient(900px 500px at 85% 10%, rgba(184,116,59,0.10), transparent 60%),
          linear-gradient(180deg, #0b0705 0%, var(--ts-bg) 40%, #0b0705 100%);
        color: var(--ts-text);
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      }

      h1, h2, h3, .ts-brand {
        font-family: "IM Fell English", Georgia, serif;
        letter-spacing: 0.2px;
      }

      a { color: var(--ts-link); text-decoration: none; }
      a:hover { color: var(--ts-link-hover); text-decoration: underline; }

      /* Top bar */
      .ts-topbar {
        background: linear-gradient(180deg, rgba(22,16,12,0.92) 0%, rgba(15,11,8,0.85) 100%);
        border-bottom: 1px solid var(--ts-border);
        box-shadow: var(--ts-shadow);
        backdrop-filter: blur(6px);
      }

      /* App shell */
      .ts-shell {
        max-width: 1500px;
        margin: 0 auto;
        padding: 18px 16px 28px;
      }

      .ts-sidebar {
        background: linear-gradient(180deg, var(--ts-panel) 0%, var(--ts-panel-2) 100%);
        border: 1px solid var(--ts-border);
        box-shadow: var(--ts-shadow);
        border-radius: 14px;
        overflow: hidden;
      }

      .ts-sidebar .section-title{
        padding: 12px 14px;
        font-size: 12px;
        letter-spacing: .12em;
        text-transform: uppercase;
        color: var(--ts-muted);
        border-top: 1px solid rgba(255,216,158,0.08);
        background: rgba(0,0,0,0.08);
      }

      .ts-nav a{
        display:flex;
        gap:10px;
        align-items:center;
        padding: 10px 14px;
        color: var(--ts-text);
        border-left: 3px solid transparent;
      }
      .ts-nav a:hover{
        background: rgba(215,164,74,0.06);
        text-decoration: none;
      }
      .ts-nav a.active{
        border-left-color: rgba(215,164,74,0.85);
        background: rgba(215,164,74,0.08);
      }
      .ts-nav .muted{
        color: var(--ts-muted);
        font-size: 13px;
      }

      .ts-content {
        background: linear-gradient(180deg, rgba(22,16,12,0.40) 0%, rgba(22,16,12,0.20) 100%);
        border: 1px solid rgba(255,216,158,0.08);
        box-shadow: var(--ts-shadow);
        border-radius: 14px;
        padding: 16px;
        min-height: 72vh;
      }

      /* Tables (kept from your theme) */
      .table {
        --bs-table-bg: transparent;
        --bs-table-color: var(--ts-text);
        border-color: var(--ts-border);
      }
      .table thead th {
        position: sticky;
        top: 0;
        background: linear-gradient(180deg, rgba(22,16,12,0.98) 0%, rgba(22,16,12,0.92) 100%);
        border-bottom: 1px solid var(--ts-border);
        color: var(--ts-text);
        z-index: 2;
      }
      .table-hover tbody tr:hover { background: rgba(215,164,74,0.06); }

      .form-control {
        background: rgba(10,7,5,0.65);
        border: 1px solid var(--ts-border);
        color: var(--ts-text);
      }
      .form-control::placeholder { color: rgba(255,238,209,0.45); }

      .btn-outline-secondary {
        color: var(--ts-text);
        border-color: rgba(215,164,74,0.35);
      }
      .btn-outline-secondary:hover {
        background: rgba(215,164,74,0.14);
        border-color: rgba(215,164,74,0.55);
        color: var(--ts-text);
      }

      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; color: var(--ts-muted); }
      .truncate { max-width: 520px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    </style>
  </head>

  <body>
    <!-- Top bar -->
    <nav class="navbar ts-topbar">
      <div class="container-fluid">
        <div class="d-flex align-items-center gap-2">
          <!-- mobile: open sidebar -->
          <button class="btn btn-outline-secondary d-lg-none" type="button"
                  data-bs-toggle="offcanvas" data-bs-target="#tsSidebar"
                  aria-controls="tsSidebar">
            ‚ò∞
          </button>

          <a class="navbar-brand ts-brand fw-semibold text-uppercase"
             style="letter-spacing:.12em; text-shadow: 0 0 12px rgba(215,164,74,.35);"
             href="{% url 'catalog_public:dashboard' %}">
            Tuesday Saloon
          </a>
        </div>

        {% block nav_search %}{% endblock %}
      </div>
    </nav>

    <div class="ts-shell">
      <div class="row g-3">
        <!-- Sidebar desktop -->
        <aside class="col-lg-3 d-none d-lg-block">
          <div class="ts-sidebar">
            <div class="section-title">Browse</div>
            <nav class="ts-nav">
              <a href="{% url 'catalog_public:dashboard' %}">üìö <span>Records</span></a>
              <a href="{% url 'catalog_public:artist_list' %}">üé§ <span>Artists</span></a>
            </nav>

            <div class="section-title">Physical World</div>
            <nav class="ts-nav">
              <a href="#" class="muted">üì¶ Storage Zones (coming)</a>
              <a href="#" class="muted">üß± Bins (coming)</a>
            </nav>

            <div class="section-title">Curated</div>
            <nav class="ts-nav">
              <a href="#" class="muted">‚≠ê Mike‚Äôs Picks (coming)</a>
              <a href="#" class="muted">üÜï New Additions (coming)</a>
              <a href="#" class="muted">üè∑Ô∏è Tags (coming)</a>
            </nav>
          </div>
        </aside>

        <!-- Sidebar mobile (offcanvas) -->
        <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="tsSidebar">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title ts-brand">Tuesday Saloon</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
          </div>
          <div class="offcanvas-body">
            <div class="ts-sidebar">
              <div class="section-title">Browse</div>
              <nav class="ts-nav">
                <a href="{% url 'catalog_public:dashboard' %}">üìö <span>Records</span></a>
                <a href="{% url 'catalog_public:artist_list' %}">üé§ <span>Artists</span></a>
              </nav>

              <div class="section-title">Physical World</div>
              <nav class="ts-nav">
                <a href="#" class="muted">üì¶ Storage Zones (coming)</a>
                <a href="#" class="muted">üß± Bins (coming)</a>
              </nav>

              <div class="section-title">Curated</div>
              <nav class="ts-nav">
                <a href="#" class="muted">‚≠ê Mike‚Äôs Picks (coming)</a>
                <a href="#" class="muted">üÜï New Additions (coming)</a>
                <a href="#" class="muted">üè∑Ô∏è Tags (coming)</a>
              </nav>
            </div>
          </div>
        </div>

        <!-- Main content -->
        <section class="col-lg-9">
          <div class="ts-content">
            {% block content %}{% endblock %}
          </div>
        </section>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Mark active link (simple client-side helper)
      (function(){
        const path = window.location.pathname;
        document.querySelectorAll(".ts-nav a[href]").forEach(a => {
          const href = a.getAttribute("href");
          if (!href || href === "#") return;
          if (path === href || (href.length > 1 && path.startsWith(href))) {
            a.classList.add("active");
          }
        });
      })();
    </script>
  </body>
</html>
